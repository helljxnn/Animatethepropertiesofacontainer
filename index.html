    <!DOCTYPE html>
    <html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Exposición: Animaciones Implícitas en Flutter</title>
        <script src="https://cdn.tailwindcss.com"></script>
        <!-- Chosen Palette: Slate & Amber -->
        <!-- Application Structure Plan: Una herramienta educativa de una sola página con tres secciones principales: Introducción a las Animaciones Implícitas, una Demostración interactiva de AnimatedContainer y un Ejercicio Práctico. Esta estructura lineal y paso a paso guía al usuario desde el concepto hasta la práctica, lo cual es ideal para un contexto de aprendizaje. La demostración interactiva es la pieza central, permitiendo la exploración práctica, que es más efectiva que los ejemplos de código estático para entender las animaciones. -->
        <!-- Visualization & Content Choices: Información: Animaciones Implícitas -> Objetivo: Explicar concepto -> Presentación: Texto + Diagrama HTML/CSS. Información: AnimatedContainer -> Objetivo: Demostrar propiedades -> Presentación: Contenedor HTML/CSS interactivo con controles JS (sliders, selector de color) -> Interacción: El usuario manipula los controles para ver la animación en vivo y el código Dart actualizado. Información: Ejercicio -> Objetivo: Probar comprensión -> Presentación: Descripción de texto + visualización HTML/CSS del problema/solución. Este enfoque evita bibliotecas complejas y se centra en el aprendizaje directo e interactivo. -->
        <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
        <style>
            body {
                font-family: 'Inter', sans-serif;
                background-color: #f8fafc;
            }
            .tab-btn {
                transition: all 0.3s ease;
            }
            .tab-btn.active {
                background-color: #0f172a;
                color: #ffffff;
            }
            .control-label {
                color: #475569;
            }
            .animated-container {
                transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            }
            .code-block {
                background-color: #1e293b;
                color: #e2e8f0;
                border-radius: 0.5rem;
                padding: 1rem;
                font-family: 'Courier New', Courier, monospace;
                white-space: pre-wrap;
                word-break: break-all;
            }
        </style>
    </head>
    <body class="bg-slate-50 text-slate-800">
        <div class="container mx-auto p-4 md:p-8 max-w-5xl">
            <header class="text-center mb-8">
                <h1 class="text-4xl md:text-5xl font-bold text-slate-900">Animaciones Implícitas en Flutter</h1>
                <p class="mt-2 text-lg text-slate-600">Una guía interactiva para `AnimatedContainer`</p>
            </header>

            <div class="bg-white shadow-xl rounded-lg overflow-hidden">
                <nav class="bg-slate-100 p-2 flex justify-center space-x-2 md:space-x-4">
                    <button data-tab="intro" class="tab-btn active text-sm md:text-base font-medium py-2 px-4 rounded-md">Introducción</button>
                    <button data-tab="demo" class="tab-btn text-sm md:text-base font-medium py-2 px-4 rounded-md">Demo: AnimatedContainer</button>
                    <button data-tab="exercise" class="tab-btn text-sm md:text-base font-medium py-2 px-4 rounded-md">Ejercicio Práctico</button>
                </nav>

                <main class="p-6 md:p-8">
                    <section id="intro" class="tab-content">
                        <h2 class="text-2xl font-bold mb-4 text-slate-800">1. ¿Qué son las Animaciones Implícitas?</h2>
                        <p class="mb-4 text-slate-600">En Flutter, las animaciones implícitas son la forma más sencilla de añadir movimiento a tu aplicación. Se llaman "implícitas" porque tú no tienes que crear y gestionar un controlador de animación (`AnimationController`). Simplemente cambias una propiedad de un widget y Flutter se encarga de animar la transición desde el valor antiguo al nuevo de forma automática.</p>
                        <div class="bg-amber-50 border-l-4 border-amber-400 p-4 rounded-r-lg my-6">
                            <h3 class="font-semibold text-amber-800">Características Principales</h3>
                            <ul class="list-disc list-inside mt-2 text-amber-700 space-y-1">
                                <li><strong>Sencillez:</strong> No requieren código complejo ni gestión de estado para la animación.</li>
                                <li><strong>Automáticas:</strong> Se activan al cambiar una propiedad del widget.</li>
                                <li><strong>Configurables:</strong> Puedes especificar la <code class="bg-amber-200 text-amber-900 px-1 rounded">duration</code> (cuánto tarda la animación) y la <code class="bg-amber-200 text-amber-900 px-1 rounded">curve</code> (cómo se acelera y desacelera).</li>
                            </ul>
                        </div>
                        <p class="text-slate-600">Funcionan reconstruyendo el widget con nuevos valores (por ejemplo, dentro de un `setState`). El widget compara los valores nuevos con los antiguos y anima la diferencia durante el tiempo especificado. Son ideales para cambios de estado simples y efectos visuales que no requieren un control preciso sobre el ciclo de vida de la animación.</p>
                    </section>

                    <section id="demo" class="tab-content hidden">
                        <h2 class="text-2xl font-bold mb-2 text-slate-800">2. Demo: Animando Propiedades de un `Container`</h2>
                        <p class="mb-6 text-slate-600">El widget <code class="bg-slate-200 text-slate-900 px-1 rounded">AnimatedContainer</code> es la versión implícitamente animada de un `Container` normal. Anima automáticamente cualquier cambio en sus propiedades. ¡Prueba a modificar los valores a continuación para ver cómo funciona!</p>
                        
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                            <div class="flex flex-col items-center justify-center bg-slate-100 rounded-lg p-8 min-h-[300px]">
                                <div id="animated-box-wrapper" class="w-full h-full flex items-center justify-center">
                                    <div id="animated-box" class="animated-container bg-blue-500"></div>
                                </div>
                            </div>

                            <div class="space-y-4">
                                <div>
                                    <label for="width-slider" class="block text-sm font-medium control-label">Ancho (width)</label>
                                    <input id="width-slider" type="range" min="50" max="200" value="100" class="w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer">
                                </div>
                                <div>
                                    <label for="height-slider" class="block text-sm font-medium control-label">Alto (height)</label>
                                    <input id="height-slider" type="range" min="50" max="200" value="100" class="w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer">
                                </div>
                                <div>
                                    <label for="radius-slider" class="block text-sm font-medium control-label">Radio del Borde (borderRadius)</label>
                                    <input id="radius-slider" type="range" min="0" max="100" value="8" class="w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer">
                                </div>
                                <div>
                                    <label for="color-picker" class="block text-sm font-medium control-label">Color de Fondo</label>
                                    <input id="color-picker" type="color" value="#3b82f6" class="w-full h-10 border-0 cursor-pointer rounded-md">
                                </div>
                                <div>
                                    <label for="alignment-select" class="block text-sm font-medium control-label">Alineación (alignment)</label>
                                    <select id="alignment-select" class="w-full p-2 border border-slate-300 rounded-md">
                                        <option value="center">Center</option>
                                        <option value="flex-start_flex-start">Top Left</option>
                                        <option value="flex-end_flex-end">Bottom Right</option>
                                        <option value="center_flex-start">Center Left</option>
                                        <option value="center_flex-end">Center Right</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="mt-8">
                            <h3 class="text-lg font-semibold mb-2">Código Dart Correspondiente:</h3>
                            <div class="code-block">
                                <pre><code id="dart-code"></code></pre>
                            </div>
                        </div>
                    </section>

                    <section id="exercise" class="tab-content hidden">
                        <h2 class="text-2xl font-bold mb-4 text-slate-800">3. Ejercicio Práctico para la Clase</h2>
                        <p class="mb-4 text-slate-600">Ahora que hemos visto los conceptos, es hora de ponerlos en práctica. El siguiente ejercicio combina animaciones implícitas para crear una interfaz simple pero dinámica.</p>
                        
                        <div class="bg-slate-100 border border-slate-200 p-6 rounded-lg">
                            <h3 class="text-xl font-semibold text-slate-900">Problema: Crear un "Botón de Me Gusta" animado</h3>
                            <p class="mt-2 mb-4 text-slate-600">El objetivo es crear un botón que, al ser presionado, se anime para mostrar una confirmación visual de la acción "Me Gusta".</p>
                            
                            <h4 class="font-semibold mt-4">Requisitos:</h4>
                            <ul class="list-disc list-inside space-y-2 mt-2 text-slate-600">
                                <li>Usa un `GestureDetector` para detectar los toques y un `AnimatedContainer` para el botón.</li>
                                <li>El estado inicial del botón es un círculo gris con un ícono de corazón vacío.</li>
                                <li>Cuando el usuario toca el botón:
                                    <ul class="list-['-_'] list-inside ml-6 mt-1 space-y-1">
                                        <li>El `AnimatedContainer` debe cambiar su ancho para volverse más ovalado.</li>
                                        <li>El color de fondo debe cambiar a un color llamativo (ej. rosa o rojo).</li>
                                        <li>El ícono del corazón debe cambiar a una versión rellena y de color blanco.</li>
                                        <li>(Opcional) Añade un texto "¡Me gusta!" que aparece junto al ícono.</li>
                                    </ul>
                                </li>
                                <li>Al volver a tocarlo, debe regresar a su estado original, también de forma animada.</li>
                            </ul>

                            <h4 class="font-semibold mt-6">Resultado Esperado:</h4>
                            <div class="mt-4 flex flex-col md:flex-row items-center justify-center gap-8 p-6 bg-white rounded-md shadow-inner">
                                <div class="text-center">
                                    <p class="font-medium mb-2">Estado Inicial</p>
                                    <div class="w-16 h-16 bg-slate-300 rounded-full flex items-center justify-center">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-slate-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 016.364 0L12 7.636l1.318-1.318a4.5 4.5 0 016.364 6.364L12 20.364l-7.682-7.682a4.5 4.5 0 010-6.364z" /></svg>
                                    </div>
                                </div>
                                <div class="text-2xl font-bold text-slate-400">→</div>
                                <div class="text-center">
                                    <p class="font-medium mb-2">Estado Activado</p>
                                    <div class="w-36 h-16 bg-pink-500 rounded-full flex items-center justify-center px-4">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clip-rule="evenodd" /></svg>
                                        <span class="text-white font-bold ml-2">¡Me gusta!</span>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </section>
                </main>
            </div>
            <footer class="text-center mt-8 text-slate-500 text-sm">
                <p>Diseñado como material de apoyo interactivo.</p>
            </footer>
        </div>

        <script>
            document.addEventListener('DOMContentLoaded', function() {
                const tabs = document.querySelectorAll('.tab-btn');
                const contents = document.querySelectorAll('.tab-content');

                tabs.forEach(tab => {
                    tab.addEventListener('click', () => {
                        tabs.forEach(t => t.classList.remove('active'));
                        tab.classList.add('active');

                        contents.forEach(content => {
                            if (content.id === tab.dataset.tab) {
                                content.classList.remove('hidden');
                            } else {
                                content.classList.add('hidden');
                            }
                        });
                    });
                });

                const widthSlider = document.getElementById('width-slider');
                const heightSlider = document.getElementById('height-slider');
                const radiusSlider = document.getElementById('radius-slider');
                const colorPicker = document.getElementById('color-picker');
                const alignmentSelect = document.getElementById('alignment-select');

                const animatedBox = document.getElementById('animated-box');
                const animatedBoxWrapper = document.getElementById('animated-box-wrapper');
                const dartCode = document.getElementById('dart-code');

                function updateAnimation() {
                    const width = widthSlider.value;
                    const height = heightSlider.value;
                    const radius = radiusSlider.value;
                    const color = colorPicker.value;
                    const alignment = alignmentSelect.value.split('_');
                    const alignItems = alignment[0];
                    const justifyContent = alignment[1] || alignItems;

                    animatedBox.style.width = `${width}px`;
                    animatedBox.style.height = `${height}px`;
                    animatedBox.style.borderRadius = `${radius}px`;
                    animatedBox.style.backgroundColor = color;
                    
                    animatedBoxWrapper.style.alignItems = alignItems;
                    animatedBoxWrapper.style.justifyContent = justifyContent;

                    updateCode(width, height, radius, color, alignmentSelect.options[alignmentSelect.selectedIndex].text);
                }

                function updateCode(width, height, radius, color, alignmentText) {
                    const hexToMaterialColor = (hex) => {
                        const cleanHex = hex.replace('#', '');
                        return `Color(0xff${cleanHex})`;
                    }

                    const alignmentMap = {
                        'Center': 'Alignment.center',
                        'Top Left': 'Alignment.topLeft',
                        'Bottom Right': 'Alignment.bottomRight',
                        'Center Left': 'Alignment.centerLeft',
                        'Center Right': 'Alignment.centerRight'
                    }
                    
                    const alignmentValue = alignmentMap[alignmentText] || 'Alignment.center';

                    dartCode.textContent = `
    // Dentro de un StatefulWidget...

    AnimatedContainer(
    duration: const Duration(milliseconds: 500),
    curve: Curves.easeInOut,
    width: ${width}.0,
    height: ${height}.0,
    alignment: ${alignmentValue},
    decoration: BoxDecoration(
        color: ${hexToMaterialColor(color)},
        borderRadius: BorderRadius.circular(${radius}.0),
    ),
    child: const FlutterLogo(size: 50),
    );
                    `.trim();
                }

                widthSlider.addEventListener('input', updateAnimation);
                heightSlider.addEventListener('input', updateAnimation);
                radiusSlider.addEventListener('input', updateAnimation);
                colorPicker.addEventListener('input', updateAnimation);
                alignmentSelect.addEventListener('change', updateAnimation);

                updateAnimation();
            });
        </script>
    </body>
    </html>
